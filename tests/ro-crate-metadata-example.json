{
    "@context": "https://w3id.org/ro/crate/1.1/context",
    "@graph": [
        {
            "@id": "./",
            "@type": "Dataset",
            "datePublished": "2022-11-09T22:02:03+00:00",
            "hasPart": [
                {
                    "@id": "https://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single.cwl"
                },
                {
                    "@id": "stdout.log"
                },
                {
                    "@id": "stderr.log"
                },
                {
                    "@id": "outputs/SRR1274307_1.fastq"
                },
                {
                    "@id": "outputs/SRR1274307_2.fastq"
                },
                {
                    "@id": "exe/workflow_params.json"
                }
            ],
            "mainEntity": {
                "@id": "https://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single.cwl"
            }
        },
        {
            "@id": "ro-crate-metadata.json",
            "@type": "CreativeWork",
            "about": {
                "@id": "./"
            },
            "conformsTo": [
                {
                    "@id": "https://w3id.org/ro/crate/1.1"
                },
                {
                    "@id": "https://w3id.org/workflowhub/workflow-ro-crate/1.0"
                }
            ]
        },
        {
            "@id": "https://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single.cwl",
            "@type": [
                "File",
                "SoftwareSourceCode",
                "ComputationalWorkflow"
            ],
            "contentSize": 1354,
            "encodingFormat": "text/plain",
            "input": [
                {
                    "@id": "exe/workflow_params.json"
                }
            ],
            "lineCount": 52,
            "name": "https://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single",
            "output": [
                {
                    "@id": "stdout.log"
                },
                {
                    "@id": "stderr.log"
                },
                {
                    "@id": "outputs/SRR1274307_1.fastq"
                },
                {
                    "@id": "outputs/SRR1274307_2.fastq"
                }
            ],
            "programmingLanguage": {
                "@id": "https://w3id.org/workflowhub/workflow-ro-crate#cwl"
            },
            "sha512": "fa43b5d7669d96d92d6f7032c80715b7a00239af559239af69dc6d8a188464ce59f34e8816e9999e22cfac1e47514a4966f223610fa1b4071d4cc878df5ebfcb",
            "text": "cwlVersion: v1.0\nclass: Workflow\nlabel: \"Download sequence data from Sequence Read Archive and dump to FASTQ file\"\ndoc: \"input variable repo should be one of ncbi or ebi\"\n\ninputs:\n  run_id:\n    type: string\n    label: \"A SRA Run ID e.g. SRR1274307\"\n    doc: \"A SRA Run ID e.g. SRR1274307\"\n  nthreads:\n    type: int?\n    default: 4\n    label: \"Optional: number of threads to be used by fasterq-dump (default: 4)\"\n    doc: \"Optional: number of threads to be used by fasterq-dump (default: 4)\"\n  repo:\n    type: string?\n    default: \"ebi\"\n    label: \"Optional: repository to be used. ncbi or ebi\"\n    doc: \"Optional: repository to be used. ncbi or ebi\"\n\noutputs:\n  fastq_files:\n    type: File[]\n    outputSource: fasterq_dump/fastqFiles\n\nsteps:\n  download_sra:\n    run: ../../tools/download-sra/download-sra.cwl\n    in:\n      repo: repo\n      run_ids: run_id\n    out:\n      [sraFiles]\n  fasterq_dump:\n    run: ../../tools/fasterq-dump/fasterq-dump.cwl\n    in:\n      sraFiles: download_sra/sraFiles\n      nthreads: nthreads\n    out:\n      [fastqFiles]\n\n$namespaces:\n  s: https://schema.org/\n  edam: http://edamontology.org/\n\ns:license: https://spdx.org/licenses/Apache-2.0\ns:codeRepository: https://github.com/pitagora-network/pitagora-cwl\n\n$schemas:\n  - https://schema.org/version/latest/schemaorg-current-http.rdf\n  - http://edamontology.org/EDAM_1.18.owl\n"
        },
        {
            "@id": "https://w3id.org/cwl/v1.0/",
            "@type": [
                "WebPage"
            ]
        },
        {
            "@id": "https://www.commonwl.org/",
            "@type": [
                "WebPage"
            ]
        },
        {
            "@id": "https://w3id.org/workflowhub/workflow-ro-crate#cwl",
            "@type": "ComputerLanguage",
            "alternateName": "CWL",
            "identifier": {
                "@id": "https://w3id.org/cwl/v1.0/"
            },
            "name": "Common Workflow Language",
            "url": {
                "@id": "https://www.commonwl.org/"
            },
            "version": "v1.0"
        },
        {
            "@id": "#08f23d48-3e4d-4f68-b06b-e7bdf358e065",
            "@type": "CreateAction",
            "endTime": "2022-11-08T16:14:05",
            "exitCode": 0,
            "instrument": {
                "@id": "https://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single.cwl"
            },
            "name": "Sapporo workflow run 08f23d48-3e4d-4f68-b06b-e7bdf358e065",
            "object": [
                {
                    "@id": "exe/workflow_params.json"
                }
            ],
            "pid": 67,
            "result": [
                {
                    "@id": "stdout.log"
                },
                {
                    "@id": "stderr.log"
                },
                {
                    "@id": "outputs/SRR1274307_1.fastq"
                },
                {
                    "@id": "outputs/SRR1274307_2.fastq"
                }
            ],
            "startTime": "2022-11-08T16:10:36",
            "state": "COMPLETE"
        },
        {
            "@id": "stdout.log",
            "@type": "File",
            "contentSize": 1112,
            "dateModified": "2022-11-08T16:14:04.023004",
            "encodingFormat": "application/json",
            "gid": 0,
            "lineCount": 22,
            "mode": "-rw-r--r--",
            "name": "Sapporo stdout",
            "sha512": "8e9dd51573585689b648d45a20b2ad728daf8b956e6e5459ad30aec7df2812a4eff129bc12fc13ff13f30d723f897a5087bff6657b5ab983516c49fbef34227b",
            "text": "{\n    \"fastq_files\": [\n        {\n            \"location\": \"file:///Users/inutano/repos/ddbj/sapporo/service/run/08/08f23d48-3e4d-4f68-b06b-e7bdf358e065/outputs/SRR1274307_1.fastq\",\n            \"basename\": \"SRR1274307_1.fastq\",\n            \"class\": \"File\",\n            \"checksum\": \"sha1$5b96d8196aba2f47e5b63fa3f5ddbe8c1f927435\",\n            \"size\": 3241896,\n            \"format\": \"http://edamontology.org/format_1930\",\n            \"path\": \"/Users/inutano/repos/ddbj/sapporo/service/run/08/08f23d48-3e4d-4f68-b06b-e7bdf358e065/outputs/SRR1274307_1.fastq\"\n        },\n        {\n            \"location\": \"file:///Users/inutano/repos/ddbj/sapporo/service/run/08/08f23d48-3e4d-4f68-b06b-e7bdf358e065/outputs/SRR1274307_2.fastq\",\n            \"basename\": \"SRR1274307_2.fastq\",\n            \"class\": \"File\",\n            \"checksum\": \"sha1$64e6d3a3f6f0dc9759fa9d9dbe1d00117282f416\",\n            \"size\": 3241896,\n            \"format\": \"http://edamontology.org/format_1930\",\n            \"path\": \"/Users/inutano/repos/ddbj/sapporo/service/run/08/08f23d48-3e4d-4f68-b06b-e7bdf358e065/outputs/SRR1274307_2.fastq\"\n        }\n    ]\n}\n",
            "uid": 0
        },
        {
            "@id": "stderr.log",
            "@type": "File",
            "contentSize": 4239,
            "dateModified": "2022-11-08T16:14:04.023969",
            "encodingFormat": "text/plain",
            "gid": 0,
            "lineCount": 95,
            "mode": "-rw-r--r--",
            "name": "Sapporo stderr",
            "sha512": "c8d11b3f75e32f96d5e1070d1edb05fd7851209e80b0c56afc693464ddfba942f1c027eb1a9d6819bdc42a8a37b29157c2522e6c7c52621f01776b86cfd6eae6",
            "text": "WARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\n\u001b[1;30mINFO\u001b[0m /usr/local/bin/cwltool 3.1\n\u001b[1;30mWARNING\u001b[0m \u001b[33mWorkflow checker warning:\nhttps://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single.cwl:17:5: Source 'repo' of\n                                                                                                                                type [\"null\",\n                                                                                                                                \"string\"] may be\n                                                                                                                                incompatible\nhttps://raw.githubusercontent.com/pitagora-network/pitagora-cwl/master/workflows/download-fastq/download-fastq.single.cwl:31:7:   with sink 'repo'\n                                                                                                                                  of type \"string\"\u001b[0m\n\u001b[1;30mINFO\u001b[0m [workflow ] start\n\u001b[1;30mINFO\u001b[0m [workflow ] starting step download_sra\n\u001b[1;30mINFO\u001b[0m [step download_sra] start\n\u001b[1;30mINFO\u001b[0m [job download_sra] /tmp/6gvyf8cd$ docker \\\n    run \\\n    -i \\\n    --mount=type=bind,source=/tmp/6gvyf8cd,target=/JEoDOq \\\n    --mount=type=bind,source=/tmp/aia0chzf,target=/tmp \\\n    --workdir=/JEoDOq \\\n    --read-only=true \\\n    --user=0:0 \\\n    --rm \\\n    --cidfile=/tmp/4i4hd5x8/20221108161131-414370.cid \\\n    --env=TMPDIR=/tmp \\\n    --env=HOME=/JEoDOq \\\n    ghcr.io/inutano/download-sra:a827d85 \\\n    download-sra \\\n    -r \\\n    ebi \\\n    SRR1274307\nWARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\n\u001b[1;30mINFO\u001b[0m [job download_sra] Max memory used: 10MiB\n\u001b[1;30mINFO\u001b[0m [job download_sra] completed success\n\u001b[1;30mINFO\u001b[0m [step download_sra] completed success\n\u001b[1;30mINFO\u001b[0m [workflow ] starting step fasterq_dump\n\u001b[1;30mINFO\u001b[0m [step fasterq_dump] start\n\u001b[1;30mINFO\u001b[0m ['docker', 'pull', 'ncbi/sra-tools:3.0.0']\n3.0.0: Pulling from ncbi/sra-tools\n9b3977197b4f: Pulling fs layer\nc8b40f534b2c: Pulling fs layer\ne8b795269e9d: Pulling fs layer\n83c549284940: Pulling fs layer\n73f8915f796d: Pulling fs layer\nf223e6f68ca3: Pulling fs layer\n73f8915f796d: Waiting\n83c549284940: Waiting\nf223e6f68ca3: Waiting\nc8b40f534b2c: Verifying Checksum\nc8b40f534b2c: Download complete\n83c549284940: Verifying Checksum\n83c549284940: Download complete\n73f8915f796d: Verifying Checksum\n73f8915f796d: Download complete\n9b3977197b4f: Verifying Checksum\n9b3977197b4f: Download complete\n9b3977197b4f: Pull complete\nc8b40f534b2c: Pull complete\nf223e6f68ca3: Verifying Checksum\nf223e6f68ca3: Download complete\ne8b795269e9d: Verifying Checksum\ne8b795269e9d: Download complete\ne8b795269e9d: Pull complete\n83c549284940: Pull complete\n73f8915f796d: Pull complete\nf223e6f68ca3: Pull complete\nDigest: sha256:bc9cf88569fdf5dd905ac3305ea9ce222eefca4ebdb99626bb8a736e668d7952\nStatus: Downloaded newer image for ncbi/sra-tools:3.0.0\ndocker.io/ncbi/sra-tools:3.0.0\n\u001b[1;30mINFO\u001b[0m [job fasterq_dump] /tmp/1049aprn$ docker \\\n    run \\\n    -i \\\n    --mount=type=bind,source=/tmp/1049aprn,target=/JEoDOq \\\n    --mount=type=bind,source=/tmp/itb0xqws,target=/tmp \\\n    --mount=type=bind,source=/tmp/6gvyf8cd/SRR1274307.sra,target=/var/lib/cwl/stgdab32d09-5c86-435b-ae85-356603efe1cb/SRR1274307.sra,readonly \\\n    --workdir=/JEoDOq \\\n    --read-only=true \\\n    --user=0:0 \\\n    --rm \\\n    --cidfile=/tmp/_ucebhn9/20221108161401-007281.cid \\\n    --env=TMPDIR=/tmp \\\n    --env=HOME=/root \\\n    ncbi/sra-tools:3.0.0 \\\n    fasterq-dump \\\n    /var/lib/cwl/stgdab32d09-5c86-435b-ae85-356603efe1cb/SRR1274307.sra \\\n    --threads \\\n    4 \\\n    --skip-technical \\\n    --split-files\nspots read      : 27,386\nreads read      : 54,772\nreads written   : 54,772\n\u001b[1;30mINFO\u001b[0m [job fasterq_dump] Max memory used: 17MiB\n\u001b[1;30mINFO\u001b[0m [job fasterq_dump] completed success\n\u001b[1;30mINFO\u001b[0m [step fasterq_dump] completed success\n\u001b[1;30mINFO\u001b[0m [workflow ] completed success\n\u001b[1;30mINFO\u001b[0m Final process status is success\n",
            "uid": 0
        },
        {
            "@id": "http://edamontology.org/format_1930",
            "@type": [
                "Format"
            ],
            "name": "FASTQ short read format ignoring quality scores."
        },
        {
            "@id": "outputs/SRR1274307_1.fastq",
            "@type": "File",
            "contentSize": 3241896,
            "dateModified": "2022-11-08T16:14:02.959592",
            "encodingFormat": "text/plain",
            "format": {
                "@id": "http://edamontology.org/format_1930"
            },
            "gid": 0,
            "lineCount": 109544,
            "mode": "-rw-r--r--",
            "sha512": "ab11afccdc1db08a185002bda52223d3532845fc619c3ba221a4ffc7096941471d27ef14c624106103282cf3ab95ae00830df66d59b208e6d80f25404a4cb45b",
            "uid": 0,
            "url": "http://localhost:1122/runs/08f23d48-3e4d-4f68-b06b-e7bdf358e065/data/outputs/SRR1274307_1.fastq"
        },
        {
            "@id": "outputs/SRR1274307_2.fastq",
            "@type": "File",
            "contentSize": 3241896,
            "dateModified": "2022-11-08T16:14:02.977694",
            "encodingFormat": "text/plain",
            "format": {
                "@id": "http://edamontology.org/format_1930"
            },
            "gid": 0,
            "lineCount": 109544,
            "mode": "-rw-r--r--",
            "sha512": "d6bea7bd9997c10f497db6a3029157b7e7b0b8947d15b000a53597ed6b04e26f6f5605b9144363f21f2bd5a7c33fda6f25a2aeb523f873a79bbe7b3cf07fd0f6",
            "uid": 0,
            "url": "http://localhost:1122/runs/08f23d48-3e4d-4f68-b06b-e7bdf358e065/data/outputs/SRR1274307_2.fastq"
        },
        {
            "@id": "exe/workflow_params.json",
            "@type": "File",
            "contentSize": 49,
            "dateModified": "2022-11-08T16:10:32.397239",
            "encodingFormat": "application/json",
            "gid": 0,
            "lineCount": 0,
            "mode": "-rw-r--r--",
            "sha512": "81894142d16c992a92f837e599417e2a8e7f470e16fab1a6957a52fa541c6f31ca35362dbfb437db55ed3bbc67ac555a2539008d2d8cfdfef29852bbce5ee8e5",
            "uid": 0
        }
    ]
}